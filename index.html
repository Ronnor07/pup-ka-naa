<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PUP ka na :></title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: "Comic Sans MS", cursive, sans-serif;
      text-align: center;
      background-color: #fff8dc;
      margin: 0;
      padding: 50px;
      overflow: hidden;
    }

    #question {
      font-size: 36px;
      margin-bottom: 50px;
    }

    button {
      font-size: 28px;
      padding: 20px 40px;
      margin: 20px;
      border-radius: 20px;
      border: none;
      cursor: pointer;
      transition: 0.3s ease;
      position: absolute;
    }

    #yesBtn {
      background-color: #ffc0cb;
      left: 30%;
      top: 50%;
    }

    #noBtn {
      background-color: #add8e6;
      left: 60%;
      top: 50%;
    }

    .chat-bubble {
      display: none;
      background-color: #ffeb3b;
      border-radius: 10px;
      padding: 10px 15px;
      font-size: 20px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      position: absolute;
      transform: translate(-50%, -120%);
      z-index: 1;
    }

    #finalMessage {
      font-size: 36px;
      margin-top: 40px;
    }

    #catContainer {
      display: none;
      margin-top: 40px;
    }

    #catContainer img {
      width: 200px;
      animation: wiggle 1s infinite;
    }

    @keyframes wiggle {
      0% { transform: rotate(0deg); }
      25% { transform: rotate(3deg); }
      50% { transform: rotate(-3deg); }
      75% { transform: rotate(3deg); }
      100% { transform: rotate(0deg); }
    }
  </style>
</head>
<body>
  <div id="question">Mag-PUP ka ba?</div>

  <div id="chatBubbleAboveNo" class="chat-bubble"></div>
  <div id="chatBubbleAboveYes" class="chat-bubble"></div>

  <button id="noBtn">No</button>
  <button id="yesBtn">Yes</button>

  <div id="finalMessage"></div>
  <div id="catContainer">
    <img src="https://media.tenor.com/7WcPvBpkHusAAAAi/cat-cute.gif" alt="Cute cat">
  </div>

  <script>
    const question = document.getElementById("question");
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const catContainer = document.getElementById("catContainer");
    const finalMessage = document.getElementById("finalMessage");
    const chatBubbleAboveYes = document.getElementById("chatBubbleAboveYes");
    const chatBubbleAboveNo = document.getElementById("chatBubbleAboveNo");

    const chatMessages = [
      "dali", "dali na", "para namang hindi kaibigan", "lahh ðŸ˜¢", "iyak na ko",
      "umiyak*", "kapag saken talaga", "NUH UH", "kwento mo sa pagong",
      "sago't gulaman", "tama na", "sigeTT", "Okay po ðŸ˜¿"
    ];

    let currentStep = 1;
    let chatIndex = 0;
    let showWhiteScreen = false;

    function showChatBubble(message, targetBtn, bubble) {
      bubble.textContent = message;
      const rect = targetBtn.getBoundingClientRect();
      bubble.style.left = `${rect.left + rect.width / 2}px`;
      bubble.style.top = `${rect.top}px`;
      bubble.style.display = "block";
    }

    noBtn.addEventListener("click", () => {
      if (showWhiteScreen) {
        document.body.innerHTML = "";
        document.body.style.backgroundColor = "white";
        return;
      }

      const message = chatMessages[chatIndex];
      showChatBubble(message, noBtn, chatBubbleAboveNo);

      if (chatIndex === chatMessages.length - 1) {
        showWhiteScreen = true;
      }

      chatIndex = (chatIndex + 1) % chatMessages.length;

      // Calculate safe movement within the viewport
      const maxX = window.innerWidth - noBtn.offsetWidth;
      const maxY = window.innerHeight - noBtn.offsetHeight;

      const moveX = Math.floor(Math.random() * maxX);
      const moveY = Math.floor(Math.random() * maxY);

      noBtn.style.left = `${moveX}px`;
      noBtn.style.top = `${moveY}px`;
    });

    yesBtn.addEventListener("click", () => {
      if (currentStep === 1) {
        question.textContent = "Libre mo si Ronron ng pamasahe?";
        currentStep = 2;
        chatBubbleAboveNo.style.display = "none";
        chatBubbleAboveYes.style.display = "none";
        noBtn.style.left = "60%";
        noBtn.style.top = "50%";
      } else {
        question.style.display = "none";
        finalMessage.textContent = "Mabait ka talaga!";
        yesBtn.style.display = "none";
        noBtn.style.display = "none";
        chatBubbleAboveNo.style.display = "none";
        chatBubbleAboveYes.style.display = "none";
        catContainer.style.display = "block";
      }
    });
  </script>
</body>
</html>
